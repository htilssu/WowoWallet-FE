{
  "openapi": "3.0.3",
  "info": {
    "title": "Document API",
    "description": "Đặc tả api cho ứng dụng payment",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "https://api.htilssu.com",
      "description": "Production server",
      "variables": {
        "env": {
          "default": "production",
          "description": "Environment"
        },
        "version": {
          "default": "v1",
          "description": "Version"
        }
      }
    }
  ],
  "paths": {
    "/api/v1/partner": {
      "get": {
        "description": "Lấy thông tin đối tác",
        "tags": [
          "Partner"
        ],
        "parameters": [
          {
            "in": "header",
            "name": "X-Api",
            "required": true,
            "description": "API Key",
            "example": "dd69c30531d167c548c018b4e4678da7454637e64a5028fd3561d4df57f48c55",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "401": {
            "description": "Không thể xác thực",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Không thể xác thực",
                  "type": "object",
                  "properties": {
                    "message": {
                      "description": "Thông báo",
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "message": "Không thể xác thực"
                }
              }
            }
          },
          "200": {
            "description": "Lấy thông tin đối tác thành công",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Thông tin đối tác",
                  "properties": {
                    "id": {
                      "description": "ID đối tác",
                      "type": "string"
                    },
                    "name": {
                      "description": "Tên đối tác",
                      "type": "string"
                    },
                    "description": {
                      "description": "Mô tả đối tác",
                      "type": "string"
                    },
                    "email": {
                      "description": "Email đối tác",
                      "type": "string"
                    },
                    "partnerType": {
                      "description": "Loại đối tác",
                      "type": "string"
                    },
                    "avatar": {
                      "description": "Ảnh đại diện đối tác",
                      "type": "string"
                    },
                    "apiBaseUrl": {
                      "description": "Đường dẫn API của đối tác",
                      "type": "string"
                    },
                    "apiKey": {
                      "description": "API Key của đối tác",
                      "type": "string"
                    },
                    "balance": {
                      "description": "Số dư tài khoản",
                      "type": "number"
                    },
                    "created": {
                      "description": "Thời gian tạo đối tác",
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "id": "1000000002",
                  "name": "ewallet",
                  "description": "Ứng dụng ví điện tử số 1 Việt Nam",
                  "email": "tody@gmail.com",
                  "partnerType": "ewallet",
                  "avatar": null,
                  "apiBaseUrl": "https://htilssu.com",
                  "apiKey": "dd69c30531d167c548c018b4e4678da7454637e64a5028fd3561d4df57f48c55",
                  "balance": 0.0,
                  "created": "2024-07-26T00:00:00"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/refund": {
      "servers": [
        {
          "url": "https://api.htilssu.com",
          "description": "Production server"
        }
      ],
      "post": {
        "parameters": [
          {
            "in": "header",
            "name": "Authorization",
            "required": true,
            "description": "Bearer token"
          },
          {
            "in": "header",
            "name": "X-Api",
            "required": true,
            "description": "API Key",
            "example": "dd69c30531d167c548c018b4e4678da7454637e64a5028fd3561d4df57f48c55",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "tags": [
          "Refund"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Thông tin giao dịch",
          "content": {
            "application/json": {
              "schema": {
                "description": "Thông tin giao dịch",
                "type": "object",
                "properties": {
                  "transactionId": {
                    "description": "ID giao dịch"
                  },
                  "orderId": {
                    "description": "ID đơn hàng",
                    "nullable": true
                  }
                }
              },
              "example": {
                "transactionId": "100000000000106",
                "orderId": "100000000000106"
              }
            }
          }
        },
        "description": "Hùy giao dịch và hoàn tiền",
        "responses": {
          "200": {
            "description": "Hủy giao dịch và hoàn tiền thành công",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Hủy giao dịch và hoàn tiền thành công",
                  "type": "object",
                  "properties": {
                    "transaction": {
                      "description": "Thông tin giao dịch",
                      "properties": {
                        "id": {
                          "description": "ID giao dịch",
                          "type": "string"
                        },
                        "status": {
                          "description": "Trạng thái giao dịch",
                          "type": "string"
                        },
                        "money": {
                          "description": "Số tiền giao dịch",
                          "type": "number"
                        },
                        "transactionType": {
                          "description": "Loại giao dịch",
                          "type": "string"
                        },
                        "transactionTarget": {
                          "description": "Đối tượng giao dịch",
                          "type": "string"
                        },
                        "currency": {
                          "description": "Loại tiền",
                          "type": "string"
                        },
                        "created_at": {
                          "description": "Thời gian tạo giao dịch",
                          "type": "string"
                        },
                        "updated_at": {
                          "description": "Thời gian cập nhật giao dịch",
                          "type": "string"
                        }
                      }
                    },
                    "message": {
                      "description": "Thông báo",
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "transaction": {
                    "money": 1.0,
                    "currency": "VND",
                    "transactionType": "transfer",
                    "transactionTarget": "wallet",
                    "status": "PENDING",
                    "created": "2024-07-25T15:56:57.629Z",
                    "updated": "2024-07-25T15:56:57.629Z",
                    "id": "100000000000106"
                  },
                  "message": "Giao dịch đang chờ xử lý"
                }
              }
            }
          }
        }
      }
    }
  }
}
